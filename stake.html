<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="css/font-awesome.min.css" />
    <link rel="stylesheet" type="text/css" href="css/animate.css" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="css/owl.carousel.css" />
    <link rel="stylesheet" type="text/css" href="css/style.css?ver=1.001" />
    <link rel="stylesheet" type="text/css" href="css/responsive.css" />
    <link rel="icon" href="images/favicon.png" type="image/gif" sizes="10x16">
    <title>Divs Stake - Divs</title>
</head>
<body style="background-image: url('images/inner-bg.jpg'); background-size: contain; background-position: top center; background-repeat: no-repeat;">
    <!-- Header -->
    <nav class="navbar navbar-expand-md wow fadeInDown" data-wow-duration="1s" data-wow-delay="0.20s">
        <div class="container">
            <a class="navbar-brand" href="index.html"><img src="images/logo.png" alt="LOGO"></a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
                <span class="navbar-toggler-icon"></span>
                <span class="navbar-toggler-icon"></span>
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="collapsibleNavbar">
                <ul class="navbar-nav pull-right">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-toggle="modal" data-target="#exchangemodal">Exchange</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="tokensale.html">Coin / Token List</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="stake.html">Staking</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="Whitepaper.pdf">White Paper</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="presale.html">Presale</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="about.html">AboutUs</a>
                    </li>
                </ul>
            </div>  
        </div>
    </nav>
    <!-- Header -->

    <div class="inner-main">
        <!-- Stake -->
        <section class="stake-container wow fadeInDown" data-wow-duration="1s" data-wow-delay="0.20s">
            <div class="container">
                <div class="title-main">
                    <h2>Place Your Stake</h2>

                    <p>Stake your DIVS tokens Below to receive Tron rewards based your percentage of the staking pool. Exchange fees equivalent to .5% of the Divs exchange volume get distributed to stakers weekly on Mondays at 12am UTC.</p>
                    <ul class="btn-group wow fadeInDown" data-wow-duration="1s" data-wow-delay="00s">
                        <li><a href="#" class="btn-main">Buy DIVS tokens</a></li>
                        <li><a href="Whitepaper.pdf" class="btn-main">Whitepaper</a></li>
                    </ul>
                </div>
                <div class="stake-wrapper">
                    <div class="row">
                        <div class="col-lg-4 col-md-6">
                            <div class="stake-block">
                                <label>Your staked Tokens</label>
                                <h4 class="stakevalue"><span class="stakevalue" id="user_staked">0.00</span> Divs</h4>
                            </div>
                            <div class="stake-block">
                                <label>Select the amount of staking</label>
                                <input type="text" class="form-control" placeholder="4,873" id="stake_amount">
                                <a href="#" class="btn-main btn-light" id="stake">Deposit</a>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-6">
                            <div class="stake-block">
                                <label>Estimate Next Payout</label>
                                <h4 class="stakevalue"><span class="stakevalue" id="estimated_payout">0.00</span> Trx</h4>
                            </div>
                            <div class="stake-block">
                                <label>Unclaimed Tron</label>
                                <h4 class="stakevalue"><span class="stakevalue" id="total_earnings1">0.00</span> Trx</h4>
                                <a href="#" class="btn-main" id="claim">Claim</a>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-6">
                            <div class="stake-block">
                                <label>Total token in the staking pool</label>
                                <h4 class="stakevalue"><span class="stakevalue" id="total_staked">0.00</span> Divs</h4>
                            </div>
                            <div class="stake-block">
                                <label>Select the amount of unstaking</label>
                                <input type="text" class="form-control" placeholder="4,873" id="unstake_amount">
                                <a href="#" class="btn-main btn-light" id="unstake">Withdraw</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- End Stake -->

        <!-- Divs Form -->
        <section class="divs-form wow fadeInDown" data-wow-duration="1s" data-wow-delay="0.20s">
            <div class="container">
                <div class="divs-form-wrapper">
                    <div class="divs-form-blk">
                        <h2>DIVS Token Holder Reward Calculator</h2>    
                        <form>
                            <div class="form-group-blk">
                                <div class="row">
                                    <div class="col-lg-6">
                                        <div class="form-group">
                                            <label>Input the current token price</label>
                                            <input type="number" placeholder="$ 0.1" class="form-control dark-bg formulaipt" id="currentToken" min="0.001" max="10000">
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="form-group">
                                            <label>Number of DIVS tokens you stake</label>
                                            <input type="number" placeholder="1" class="form-control dark-bg formulaipt" id="divNumber" min="0.001" max="10000000">
                                        </div>
                                    </div>
                                </div>
                                <div class="form-msg">
                                    <p>Earn your share of the Rewards</p>
                                </div> 
                            </div>
                            <div class="form-group-blk">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label>Amount in USD</label>
                                            <input type="number" placeholder="$ 0.1" class="form-control formulaipt" id="usdAmount" disabled>
                                        </div>
                                    </div>
                                </div> 
                            </div>
                            <div class="form-group-blk">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label>Total amount of DIVS tokens in the staking pool</label>
                                            <input type="number" placeholder="0" class="form-control dark-bg formulaipt" id="totalStakingDiv" min="0.001" max="10000000">
                                        </div>
                                    </div>
                                </div> 
                                <div class="form-msg">
                                    <p>Stake your DIVS Tokens and receive rewards in tron</p>
                                </div> 
                            </div>
                            <div class="form-group-blk">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label>Your percentage of the staking pool</label>
                                            <div class="pr-blk">
                                                <input type="number" placeholder="0.0000" class="form-control formulaipt" id="percentStaking" disabled>
                                                <span class="pr-icon">%</span>
                                            </div>
                                        </div>
                                    </div>
                                </div> 
                            </div>
                            <div class="form-group-blk">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label>Adjust the weekly exchange volume</label>
                                           <!--  <div class="form-check-blk">
                                                <div class="form-check">
                                                    <label>
                                                        <input type="radio" name="radio" checked> <span class="label-text">100.000</span>
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <label>
                                                        <input type="radio" name="radio"> <span class="label-text">300.000</span>
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <label>
                                                        <input type="radio" name="radio"> <span class="label-text">600.000</span>
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <label>
                                                        <input type="radio" name="radio"> <span class="label-text">900.000</span>
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <label>
                                                        <input type="radio" name="radio"> <span class="label-text">12.000.000</span>
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <label>
                                                        <input type="radio" name="radio"> <span class="label-text">15.000.000</span>
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <label>
                                                        <input type="radio" name="radio"> <span class="label-text">18.000.000</span>
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <label>
                                                        <input type="radio" name="radio"> <span class="label-text">200.000.000</span>
                                                    </label>
                                                </div>
                                            </div> -->


                                            <div class="range-slider">
                                              <input class="range-slider__range formulaipt" type="range" value="100" min="0" max="200">
                                              <span class="range-slider__value">1000000</span>
                                            </div>


                                        </div>
                                    </div>
                                </div> 
                            </div>
                            <div class="form-group-blk">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label>total amount distributed to DIVS token holders (.5% of the weekly volume)</label>
                                            <input type="text" placeholder="$ 0.00000" class="form-control" id="totalDistributed" disabled>
                                        </div>
                                    </div>
                                </div> 
                                <div class="form-msg">
                                    <p>.5% of the total exchange volume get distributed to DIVS token stakers weekly</p>
                                </div>
                            </div>
                            <div class="form-group-blk">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label>Your weekly Rewards</label>
                                            <input type="text" placeholder="$ 0.00000" class="form-control" id="weeklyReward" disabled>
                                        </div>
                                    </div>
                                </div> 
                            </div>
                            <div class="form-group-blk">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label>Your 1 year rewards</label>
                                            <input type="text" placeholder="$ 0.00000" class="form-control" id="oneyReward" disabled>
                                        </div>
                                    </div>
                                </div> 
                            </div>
                            <div class="form-group-blk">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label>Your 5 year rewards</label>
                                            <input type="text" placeholder="$ 0.00000" class="form-control" id="fiveyReward" disabled>
                                        </div>
                                    </div>
                                </div> 
                                <div class="form-msg">
                                    <p>Less Tokens in the staking pool will equal more rewards for those currently staking</p>
                                </div>
                            </div>
                        </form> 
                    </div>
                </div>
            </div>
        </section>
        <!-- End Divs Form -->

        
    </div>

    <div id="exchangemodal" class="modal fade ExchangeM" role="dialog">
      <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
          <div class="modal-body">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
           <div class="banner-form"> 
                <h4>Exchange</h4>
                <form>
                    <div class="form-group-blk">
                        <label>You Send</label>
                        <div class="form-group">
                            <div class="frm-drop">
                                <select class="form-control">
                                    <option>ETH</option>
                                    <option>ETH</option>
                                    <option>ETH</option>
                                </select>
                            </div>
                            <input type="number" placeholder="1.000000" class="form-control">
                        </div>
                    </div>
                    <div class="form-group-blk">
                        <label>You get</label>
                        <div class="form-group">
                            <div class="frm-drop">
                                <select class="form-control">
                                    <option>TRX</option>
                                    <option>TRX</option>
                                    <option>TRX</option>
                                </select>
                            </div>
                            <input type="number" placeholder="17473.355609" class="form-control">
                        </div>
                    </div>
                    <div class="form-group-btn">
                        <button type="submit" class="btn-main">Exchange</button>
                    </div>
                </form>
            </div> 
          </div>
        </div>

      </div>
    </div>
    <!-- Footer -->
    <footer class="wow fadeInDown" data-wow-duration="1s" data-wow-delay="0.20s">
        <div class="container">
            <div class="footer-nav">
                <div class="footer-logo">
                    <a href="#"><img src="images/logo.png" alt="logo"></a>
                </div>
                <ul class="footer-list">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="#" data-toggle="modal" data-target="#exchangemodal">Exchange</a></li>
                    <li><a href="tokensale.html">Coin / Token List</a></li>
                    <li><a href="stake.html">Staking</a></li>
                    <li><a href="Whitepaper.pdf">White Paper</a></li>
                    <li><a href="presale.html">Presale</a></li>
                    <li><a href="about.html">AboutUs</a></li>
                </ul>
                <ul class="footer-social">
                    <li><a href="https://twitter.com/DivsExchange"><i class="fa fa-twitter"></i></a></li>
                   <li><a href="http://divs.chat"><i class="fa fa-paper-plane"></i></a></li>
                </ul>
            </div>
            <div class="footer-copyright">
                <a href="#"><img src="images/cop-logo.png" alt="icon"></a>
            </div>
        </div>
    </footer>
    <!-- End Footer -->

    <script type="text/javascript" src="js/jquery.min.js"></script> 
    <script type="text/javascript" src="js/popper.min.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/owl.carousel.min.js"></script>
    <script type="text/javascript" src="js/wow.min.js"></script>
    <script type="text/javascript">
        //wow animation js
        new WOW().init();
        var slider_variable=0;
    </script>
    <!-- range slider -->
    <script type="text/javascript">
        // First let's set the colors of our sliders
        const settings={
          fill: '#7f849a',
          background: '#303353'
        }

        // First find all our sliders
        const sliders = document.querySelectorAll('.range-slider');

        // Iterate through that list of sliders
        // ... this call goes through our array of sliders [slider1,slider2,slider3] and inserts them one-by-one into the code block below with the variable name (slider). We can then access each of wthem by calling slider
        Array.prototype.forEach.call(sliders,(slider)=>{
          // Look inside our slider for our input add an event listener
        //   ... the input inside addEventListener() is looking for the input action, we could change it to something like change
          slider.querySelector('input').addEventListener('input', (event)=>{
            // 1. apply our value to the span
            slider_variable = 1000000*(event.target.value);
            slider.querySelector('span').innerHTML = slider_variable;
            // 2. apply our fill to the input
            applyFill(event.target);
          });
          // Don't wait for the listener, apply it now!
          applyFill(slider.querySelector('input'));
        });

        // This function applies the fill to our sliders by using a linear gradient background
        function applyFill(slider) {
          // Let's turn our value into a percentage to figure out how far it is in between the min and max of our input
          const percentage = 100*(slider.value-slider.min)/(slider.max-slider.min);
          // now we'll create a linear gradient that separates at the above point
          // Our background color will change here
          const bg = `linear-gradient(90deg, ${settings.fill} ${percentage}%, ${settings.background} ${percentage+0.1}%)`;
          slider.style.background = bg;
        }
    </script>
    <script type="text/javascript">
        var divstakers=0,weekrewards=0,oneyReward=0,fiveyReward=0,percentStaking=0,usdAmount=0;
        $( ".formulaipt" ).on( "input", function( event ) {
           


            var currentToken = parseFloat($("#currentToken").val());
            var divNumber = parseFloat($("#divNumber").val());
            // var usdAmount = parseFloat($("#usdAmount").val());
            var totalStakingDiv = parseFloat($("#totalStakingDiv").val());
            // var percentStaking = parseFloat($("#percentStaking").val());
            
            //slider variable  = slider_variable

            if(!isNaN(currentToken) && !isNaN(slider_variable) && !isNaN(divNumber) )
            {
                usdAmount = currentToken*divNumber;

                percentStaking = (divNumber/totalStakingDiv)*100;

                divstakers = slider_variable*(0.005);

                weekrewards = (divstakers*percentStaking)/100;

                oneyReward = weekrewards*52;

                fiveyReward = oneyReward*5;
                $("#usdAmount").val(usdAmount)
                $("#percentStaking").val(percentStaking.toFixed(2))
                $("#totalDistributed").val(divstakers.toFixed(2));
                $("#weeklyReward").val(weekrewards.toFixed(2));
                $("#oneyReward").val(oneyReward.toFixed(2));
                $("#fiveyReward").val(fiveyReward.toFixed(2))
            }
            

        });

    $( ".formulaipt" ).on( "change", function() {


       if((parseFloat($(this).val()) < parseFloat($(this).attr("min")))){
             $(this).addClass("buzz-out-on-hover");
             $(this).val($(this).attr("min"))
        }else if(parseFloat($(this).val()) > parseFloat($(this).attr("max"))){
            $(this).addClass("buzz-out-on-hover");
            $(this).val($(this).attr("max"))
        }
        else{
             $(this).removeClass("buzz-out-on-hover")
        }
    });
    </script>
        <script type="text/javascript">

            //wow animation js
      
            new WOW().init();
      
          </script>
        <script>



            $(document).ready(function() {
        
              const config_json = {
        
                DIVS: {
        
                  tokenAddress: 'TRXmYPy2AXZxacoSbKGjiVto8K1EqwexU7',
        
                  stakeDataAddress: 'TLVroKNfndt4znndobpWzkNqtdgeJj3Wyv',
        
                  stakeHandlerAddress: 'TWgp1D8TmiiryHPmLpP2kJKMVPdxiEbaWm',
        
                  decimals: 1e8,
        
                }
        
              }
        
        
        
              //rounding functions
        
              function parseFloat(str, radix) {
        
                let parts = str.split(".");
        
                if ( parts.length > 1 ) {
        
                  return parseInt(parts[0], radix) + parseInt(parts[1], radix) / Math.pow(radix, parts[1].length);
        
                }
        
                return parseInt(parts[0], radix);
        
              }
        
        
        
              function abbreviateNumber(num)
        
              {
        
                if(num >= 1000000)
        
                  return roundToTwoOrFour(num/1000000)+'M';
        
                if(num >= 1000)
        
                  return roundToTwoOrFour(num/1000)+'k';
        
                return (num);
        
              }
        
        
        
              function roundToFour(num) {
        
                return +(Math.floor(num + 'e+4') + 'e-4')
        
              }
        
        
        
              function roundToTwo(num) {
        
                return +(Math.floor(num + 'e+2') + 'e-2')
        
              }
        
        
        
              function round(num) {
        
                return +(Math.floor(num + 'e+0') + 'e-0')
        
              }
        
        
        
              function roundToTwoOrFour(num){
        
                if(num<1) return roundToFour(num)
        
                return roundToTwo(num)
        
              }
        
        
        
              //updateHTML
        
              let selected = "DIVS"
        
        
        
              setInterval(()=>{
        
                tokenSelected = config_json[selected]
        
                updateStakedBalance(tokenSelected)
        
                updateTotalStaked(tokenSelected)
        
                updateCycleRewards(tokenSelected)
        
                updateRewards(tokenSelected)
        
                updateUserAddy()
        
              }, 2000)
        
              setInterval(()=>{
        
                updateTotal()
        
              }, 5000)
        
        
        
              async function updateUserAddy() {
        
                if(!tronWeb.defaultAddress.base58) return
        
                let bal = await tronWeb.contract().at('TVAAQyNZ5Dj8nfTAJnhW5KxCvLZ5oSMFFy')
        
                bal = await bal.balanceOf(tronWeb.defaultAddress.base58).call()
        
                const addy = tronWeb.defaultAddress.base58.slice(0,5) +'... '+ abbreviateNumber(parseInt(bal._hex,16)/1e8) + ' DIVS'
        
                document.getElementById('user_addy').innerHTML = addy
        
              }
        
        
        
              async function updateStakedBalance(tokenSelected) {
        
                stakeDataInstance = await tronWeb.contract().at(tokenSelected.stakeDataAddress)
        
                const stakedBalance = await stakeDataInstance.getMyStakeedTokens().call()
        
                document.getElementById('user_staked').innerHTML = roundToTwoOrFour(parseFloat(stakedBalance._hex, 16)/tokenSelected.decimals)
        
                document.getElementById('user_staked1').innerHTML = roundToTwoOrFour(parseFloat(stakedBalance._hex, 16)/tokenSelected.decimals)
        
                document.getElementById('total_earnings').innerHTML = roundToTwoOrFour(parseFloat(stakedBalance._hex, 16)/tokenSelected.decimals)
        
              }
        
        
        
              async function updateTotalStaked(tokenSelected) {
        
                stakeDataInstance = await tronWeb.contract().at(tokenSelected.stakeDataAddress)
        
                const total = await stakeDataInstance.getTokenBalance().call()
        
                document.getElementById('total_staked').innerHTML = roundToTwoOrFour(parseFloat(total._hex, 16)/tokenSelected.decimals)
        
              }
        
        
        
              async function updateCycleRewards(tokenSelected) {
        
                stakeHandlerInstance = await tronWeb.contract().at(tokenSelected.stakeHandlerAddress)
        
                const total = await stakeHandlerInstance.calculateMyCurrentCycleRewards().call()
        
                document.getElementById('estimated_payout').innerHTML = roundToTwoOrFour(parseFloat(total._hex, 16)/10000000)
        
              }
        
        
        
              async function updateRewards(tokenSelected) {
        
                stakeHandlerInstance = await tronWeb.contract().at(tokenSelected.stakeHandlerAddress)
        
                const total = await stakeHandlerInstance.calculateMyRewardsSinceLastClaim().call()
        
                document.getElementById('total_earnings1').innerHTML = roundToTwoOrFour(parseFloat(total._hex, 16)/10000000)
        
              }
        
        
        
              async function updateTotal(){
        
                  if(config_json['LIGHTMATTER']) lightmatterContract = await tronWeb.contract().at(config_json['LIGHTMATTER'].stakeHandlerAddress)
        
                  if(config_json['DARKMATTER']) darkmatterContract = await tronWeb.contract().at(config_json['DARKMATTER'].stakeHandlerAddress)
        
                  if(config_json['VOID']) voidContract = await tronWeb.contract().at(config_json['VOID'].stakeHandlerAddress)
        
                  if(config_json['FRAG']) fragContract = await tronWeb.contract().at(config_json['FRAG'].stakeHandlerAddress)
        
                  const totalLight = await stakeHandlerInstance.getAvailableBalance().call()
        
                  const totalDark = await stakeHandlerInstance.getAvailableBalance().call()
        
                  const totalVoid = await stakeHandlerInstance.getAvailableBalance().call()
        
                  const totalFrag = await stakeHandlerInstance.getAvailableBalance().call()
        
                  if(config_json['LIGHTMATTER']) document.getElementById('lmh-total').innerHTML = roundToTwoOrFour(parseFloat(totalLight._hex, 16)/config_json['LIGHTMATTER'].decimals)
        
                  if(config_json['DARKMATTER']) document.getElementById('dmd-total').innerHTML = roundToTwoOrFour(parseFloat(totalDark._hex, 16)/config_json['DARKMATTER'].decimals)
        
                  if(config_json['VOID']) document.getElementById('void-total').innerHTML = roundToTwoOrFour(parseFloat(totalVoid._hex, 16)/config_json['VOID'].decimals)
        
                  if(config_json['FRAG']) document.getElementById('frag-total').innerHTML = roundToTwoOrFour(parseFloat(totalFrag._hex, 16)/config_json['FRAG'].decimals)
        
              }
        
              /*
        
              async function updateNextPayout() {
        
                stakingInstance = await tronWeb.contract().at(stakingAddress)
        
                const date = new Date()
        
                let nextPayoutAt = await stakingInstance.nextPayoutAt().call()
        
                nextPayoutAt = new Date(parseInt(nextPayoutAt._hex)*1000)
        
                let timeLeft = nextPayoutAt - date
        
                setInterval(()=>{
        
                  var seconds = Math.floor((timeLeft / 1000) % 60);
        
                  var minutes = Math.floor((timeLeft / 1000 / 60) % 60);
        
                  var hours = Math.floor((timeLeft / (1000 * 60 * 60)) % 24);
        
                  timeLeft = timeLeft - 1000
        
                  document.getElementById('time-left').innerHTML = `${('0'+hours).slice(-2)}:${('0'+minutes).slice(-2)}:${('0'+seconds).slice(-2)}`
        
                },1000)
        
              }
        
              */
        
              /*
        
              async function apy() {
        
                stakingInstance = await tronWeb.contract().at(stakingAddress)
        
                const rewardRate = await stakingInstance.rewardRate().call()
        
                const totalSupply = await stakingInstance.totalSupply().call()
        
                document.getElementById('apy').innerHTML = roundToTwoOrFour(parseFloat(totalSupply._hex, 16)/parseFloat(rewardRate._hex, 16))
        
              }
        
              */
        
        
        
              async function stake() {
        
                tokenInstance = await tronWeb.contract().at(tokenSelected.tokenAddress)
        
                let amount = document.getElementById('stake_amount').value
        
                amount = amount * tokenSelected.decimals
        
                const bytes = '0x000000000000000000000000000000000000000000000000000000000000000'
        
                await tokenInstance.methods.approveAndCall(tokenSelected.stakeDataAddress, amount, bytes).send()
        
              }
        
        
        
        
        
              async function unstake() {
        
                stakeDataInstance = await tronWeb.contract().at(tokenSelected.stakeDataAddress)
        
                const amount = document.getElementById('unstake_amount').value
        
                await stakeDataInstance.unstakeTokens(amount*tokenSelected.decimals).send()
        
              }
        
        
        
              async function claim() {
        
                stakeHandlerInstance = await tronWeb.contract().at(tokenSelected.stakeHandlerAddress)
        
                await stakeHandlerInstance.claimRewards().send()
        
              }
        
        
        
              $('#click-left').click(function(err) {
        
                 selected = document.getElementById('arrow-left').innerHTML.replace(' ', '').toUpperCase()
        
              })
        
              $('#click-right').click(function(err) {
        
                 selected = document.getElementById('arrow-right').innerHTML.replace(' ', '').toUpperCase()
        
              })
        
              $( "#stake" ).click(function() {
        
                stake()
        
              })
        
        
        
              $( "#unstake" ).click(function() {
        
                unstake()
        
              })
        
        
        
              $( "#claim" ).click(function() {
        
                claim()
        
              })
        
        
        
            })

        
          </script>
</body>
</html>
